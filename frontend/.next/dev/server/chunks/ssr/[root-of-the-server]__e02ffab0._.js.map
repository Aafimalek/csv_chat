{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Degree/MachineLearning/csv_chat/frontend/hooks/usePyodide.ts"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState, useRef } from 'react';\r\n\r\ndeclare global {\r\n  interface Window {\r\n    loadPyodide: any;\r\n  }\r\n}\r\n\r\nexport default function usePyodide() {\r\n  const [pyodide, setPyodide] = useState<any>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const pyodideRef = useRef<any>(null);\r\n\r\n  useEffect(() => {\r\n    const load = async () => {\r\n      if (pyodideRef.current) {\r\n        // Ensure seaborn is loaded even if instance exists (hot reload case)\r\n        try {\r\n          await pyodideRef.current.loadPackage(\"micropip\");\r\n          await pyodideRef.current.loadPackage(\"scikit-learn\");\r\n          const micropip = pyodideRef.current.pyimport(\"micropip\");\r\n          await micropip.install(\"seaborn\");\r\n        } catch (e) {\r\n          console.error(\"Failed to load seaborn on reload:\", e);\r\n        }\r\n        setPyodide(pyodideRef.current);\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        // Wait for the script to load if it hasn't already\r\n        if (!window.loadPyodide) {\r\n          let retries = 0;\r\n          while (!window.loadPyodide && retries < 10) {\r\n            await new Promise(resolve => setTimeout(resolve, 500));\r\n            retries++;\r\n          }\r\n          if (!window.loadPyodide) {\r\n            console.error(\"Pyodide script not loaded\");\r\n            return;\r\n          }\r\n        }\r\n\r\n        const py = await window.loadPyodide({\r\n          indexURL: \"https://cdn.jsdelivr.net/pyodide/v0.23.4/full/\"\r\n        });\r\n\r\n        await py.loadPackage(\"pandas\");\r\n        await py.loadPackage(\"matplotlib\");\r\n        await py.loadPackage(\"scikit-learn\");\r\n        await py.loadPackage(\"micropip\");\r\n\r\n        const micropip = py.pyimport(\"micropip\");\r\n        await micropip.install(\"seaborn\");\r\n\r\n        pyodideRef.current = py;\r\n        setPyodide(py);\r\n        setIsLoading(false);\r\n      } catch (error) {\r\n        console.error(\"Error loading Pyodide:\", error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    load();\r\n  }, []);\r\n\r\n  return { pyodide, isLoading };\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AADA;;AASe,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAM;IAC5C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,aAAa,IAAA,+MAAM,EAAM;IAE/B,IAAA,kNAAS,EAAC;QACR,MAAM,OAAO;YACX,IAAI,WAAW,OAAO,EAAE;gBACtB,qEAAqE;gBACrE,IAAI;oBACF,MAAM,WAAW,OAAO,CAAC,WAAW,CAAC;oBACrC,MAAM,WAAW,OAAO,CAAC,WAAW,CAAC;oBACrC,MAAM,WAAW,WAAW,OAAO,CAAC,QAAQ,CAAC;oBAC7C,MAAM,SAAS,OAAO,CAAC;gBACzB,EAAE,OAAO,GAAG;oBACV,QAAQ,KAAK,CAAC,qCAAqC;gBACrD;gBACA,WAAW,WAAW,OAAO;gBAC7B,aAAa;gBACb;YACF;YAEA,IAAI;gBACF,mDAAmD;gBACnD,IAAI,CAAC,OAAO,WAAW,EAAE;oBACvB,IAAI,UAAU;oBACd,MAAO,CAAC,OAAO,WAAW,IAAI,UAAU,GAAI;wBAC1C,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS;wBACjD;oBACF;oBACA,IAAI,CAAC,OAAO,WAAW,EAAE;wBACvB,QAAQ,KAAK,CAAC;wBACd;oBACF;gBACF;gBAEA,MAAM,KAAK,MAAM,OAAO,WAAW,CAAC;oBAClC,UAAU;gBACZ;gBAEA,MAAM,GAAG,WAAW,CAAC;gBACrB,MAAM,GAAG,WAAW,CAAC;gBACrB,MAAM,GAAG,WAAW,CAAC;gBACrB,MAAM,GAAG,WAAW,CAAC;gBAErB,MAAM,WAAW,GAAG,QAAQ,CAAC;gBAC7B,MAAM,SAAS,OAAO,CAAC;gBAEvB,WAAW,OAAO,GAAG;gBACrB,WAAW;gBACX,aAAa;YACf,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,0BAA0B;gBACxC,aAAa;YACf;QACF;QAEA;IACF,GAAG,EAAE;IAEL,OAAO;QAAE;QAAS;IAAU;AAC9B"}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///D:/Degree/MachineLearning/csv_chat/frontend/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///D:/Degree/MachineLearning/csv_chat/frontend/components/FileUpload.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState, useCallback } from 'react';\r\nimport { Upload, FileUp } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface FileUploadProps {\r\n    onFileSelect: (file: File) => void;\r\n}\r\n\r\nexport default function FileUpload({ onFileSelect }: FileUploadProps) {\r\n    const [isDragging, setIsDragging] = useState(false);\r\n\r\n    const handleDragOver = useCallback((e: React.DragEvent) => {\r\n        e.preventDefault();\r\n        setIsDragging(true);\r\n    }, []);\r\n\r\n    const handleDragLeave = useCallback((e: React.DragEvent) => {\r\n        e.preventDefault();\r\n        setIsDragging(false);\r\n    }, []);\r\n\r\n    const handleDrop = useCallback((e: React.DragEvent) => {\r\n        e.preventDefault();\r\n        setIsDragging(false);\r\n\r\n        if (e.dataTransfer.files && e.dataTransfer.files[0]) {\r\n            onFileSelect(e.dataTransfer.files[0]);\r\n        }\r\n    }, [onFileSelect]);\r\n\r\n    const handleChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files && e.target.files[0]) {\r\n            onFileSelect(e.target.files[0]);\r\n        }\r\n    }, [onFileSelect]);\r\n\r\n    return (\r\n        <div\r\n            className={cn(\r\n                \"w-full max-w-xl p-12 border-2 border-dashed rounded-none transition-all duration-300 ease-in-out flex flex-col items-center justify-center cursor-pointer group relative overflow-hidden\",\r\n                isDragging\r\n                    ? \"border-primary bg-primary/10 scale-[1.02]\"\r\n                    : \"border-muted-foreground/25 hover:border-primary/50 hover:bg-muted/50 bg-card\"\r\n            )}\r\n            onDragOver={handleDragOver}\r\n            onDragLeave={handleDragLeave}\r\n            onDrop={handleDrop}\r\n            onClick={() => document.getElementById('file-upload')?.click()}\r\n        >\r\n            <input\r\n                id=\"file-upload\"\r\n                type=\"file\"\r\n                className=\"hidden\"\r\n                accept=\".csv\"\r\n                onChange={handleChange}\r\n            />\r\n            <div className={cn(\r\n                \"p-4 rounded-full mb-4 transition-all duration-300\",\r\n                isDragging ? \"bg-primary text-primary-foreground shadow-lg scale-110\" : \"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary\"\r\n            )}>\r\n                {isDragging ? <FileUp className=\"w-8 h-8\" /> : <Upload className=\"w-8 h-8\" />}\r\n            </div>\r\n            <h3 className=\"text-xl font-semibold text-foreground mb-2\">Upload your CSV file</h3>\r\n            <p className=\"text-sm text-muted-foreground text-center max-w-xs group-hover:text-foreground/80 transition-colors\">\r\n                Drag and drop your file here, or click to browse to start analyzing your data\r\n            </p>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AACA;AAHA;;;;;AASe,SAAS,WAAW,EAAE,YAAY,EAAmB;IAChE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,MAAM,iBAAiB,IAAA,oNAAW,EAAC,CAAC;QAChC,EAAE,cAAc;QAChB,cAAc;IAClB,GAAG,EAAE;IAEL,MAAM,kBAAkB,IAAA,oNAAW,EAAC,CAAC;QACjC,EAAE,cAAc;QAChB,cAAc;IAClB,GAAG,EAAE;IAEL,MAAM,aAAa,IAAA,oNAAW,EAAC,CAAC;QAC5B,EAAE,cAAc;QAChB,cAAc;QAEd,IAAI,EAAE,YAAY,CAAC,KAAK,IAAI,EAAE,YAAY,CAAC,KAAK,CAAC,EAAE,EAAE;YACjD,aAAa,EAAE,YAAY,CAAC,KAAK,CAAC,EAAE;QACxC;IACJ,GAAG;QAAC;KAAa;IAEjB,MAAM,eAAe,IAAA,oNAAW,EAAC,CAAC;QAC9B,IAAI,EAAE,MAAM,CAAC,KAAK,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE;YACrC,aAAa,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;QAClC;IACJ,GAAG;QAAC;KAAa;IAEjB,qBACI,8OAAC;QACG,WAAW,IAAA,kHAAE,EACT,4LACA,aACM,8CACA;QAEV,YAAY;QACZ,aAAa;QACb,QAAQ;QACR,SAAS,IAAM,SAAS,cAAc,CAAC,gBAAgB;;0BAEvD,8OAAC;gBACG,IAAG;gBACH,MAAK;gBACL,WAAU;gBACV,QAAO;gBACP,UAAU;;;;;;0BAEd,8OAAC;gBAAI,WAAW,IAAA,kHAAE,EACd,qDACA,aAAa,2DAA2D;0BAEvE,2BAAa,8OAAC,oNAAM;oBAAC,WAAU;;;;;yCAAe,8OAAC,gNAAM;oBAAC,WAAU;;;;;;;;;;;0BAErE,8OAAC;gBAAG,WAAU;0BAA6C;;;;;;0BAC3D,8OAAC;gBAAE,WAAU;0BAAsG;;;;;;;;;;;;AAK/H"}},
    {"offset": {"line": 192, "column": 0}, "map": {"version":3,"sources":["file:///D:/Degree/MachineLearning/csv_chat/frontend/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Card = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        className={cn(\r\n            \"rounded-none border-2 border-border bg-card text-card-foreground neo-shadow\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nCard.displayName = \"Card\"\r\n\r\nconst CardHeader = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n        {...props}\r\n    />\r\n))\r\nCardHeader.displayName = \"CardHeader\"\r\n\r\nconst CardTitle = React.forwardRef<\r\n    HTMLParagraphElement,\r\n    React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n    <h3\r\n        ref={ref}\r\n        className={cn(\r\n            \"text-2xl font-semibold leading-none tracking-tight\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nCardTitle.displayName = \"CardTitle\"\r\n\r\nconst CardDescription = React.forwardRef<\r\n    HTMLParagraphElement,\r\n    React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n    <p\r\n        ref={ref}\r\n        className={cn(\"text-sm text-muted-foreground\", className)}\r\n        {...props}\r\n    />\r\n))\r\nCardDescription.displayName = \"CardDescription\"\r\n\r\nconst CardContent = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\r\n))\r\nCardContent.displayName = \"CardContent\"\r\n\r\nconst CardFooter = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        className={cn(\"flex items-center p-6 pt-0\", className)}\r\n        {...props}\r\n    />\r\n))\r\nCardFooter.displayName = \"CardFooter\"\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,kHAAE,EACT,+EACA;QAEH,GAAG,KAAK;;;;;;AAGjB,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGjB,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,kHAAE,EACT,sDACA;QAEH,GAAG,KAAK;;;;;;AAGjB,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGjB,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAElE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGjB,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 277, "column": 0}, "map": {"version":3,"sources":["file:///D:/Degree/MachineLearning/csv_chat/frontend/components/ResultDisplay.tsx"],"sourcesContent":["\"use client\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Terminal, BarChart3 } from \"lucide-react\";\r\n\r\ninterface ResultDisplayProps {\r\n    output: string;\r\n    plotImage: string | null;\r\n}\r\n\r\nexport default function ResultDisplay({ output, plotImage }: ResultDisplayProps) {\r\n    if (!output && !plotImage) return null;\r\n\r\n    return (\r\n        <div className=\"w-full space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500\">\r\n            {output && (\r\n                <Card className=\"bg-muted/30 border-none shadow-none\">\r\n                    <CardHeader className=\"pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium flex items-center gap-2 text-muted-foreground\">\r\n                            <Terminal className=\"w-4 h-4\" />\r\n                            Analysis Result\r\n                        </CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <pre className=\"whitespace-pre-wrap font-mono text-sm text-foreground bg-background/50 p-4 rounded-lg overflow-x-auto border border-border/50\">\r\n                            {output}\r\n                        </pre>\r\n                    </CardContent>\r\n                </Card>\r\n            )}\r\n\r\n            {plotImage && (\r\n                <Card className=\"bg-muted/30 border-none shadow-none\">\r\n                    <CardHeader className=\"pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium flex items-center gap-2 text-muted-foreground\">\r\n                            <BarChart3 className=\"w-4 h-4\" />\r\n                            Visualization\r\n                        </CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"flex justify-center bg-white rounded-lg overflow-hidden p-2\">\r\n                            <img\r\n                                src={`data:image/png;base64,${plotImage}`}\r\n                                alt=\"Generated Plot\"\r\n                                className=\"max-w-full h-auto rounded-none shadow-sm\"\r\n                            />\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAFA;;;;AASe,SAAS,cAAc,EAAE,MAAM,EAAE,SAAS,EAAsB;IAC3E,IAAI,CAAC,UAAU,CAAC,WAAW,OAAO;IAElC,qBACI,8OAAC;QAAI,WAAU;;YACV,wBACG,8OAAC,iIAAI;gBAAC,WAAU;;kCACZ,8OAAC,uIAAU;wBAAC,WAAU;kCAClB,cAAA,8OAAC,sIAAS;4BAAC,WAAU;;8CACjB,8OAAC,sNAAQ;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;kCAIxC,8OAAC,wIAAW;kCACR,cAAA,8OAAC;4BAAI,WAAU;sCACV;;;;;;;;;;;;;;;;;YAMhB,2BACG,8OAAC,iIAAI;gBAAC,WAAU;;kCACZ,8OAAC,uIAAU;wBAAC,WAAU;kCAClB,cAAA,8OAAC,sIAAS;4BAAC,WAAU;;8CACjB,8OAAC,+NAAS;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;kCAIzC,8OAAC,wIAAW;kCACR,cAAA,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCACG,KAAK,CAAC,sBAAsB,EAAE,WAAW;gCACzC,KAAI;gCACJ,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ1C"}},
    {"offset": {"line": 407, "column": 0}, "map": {"version":3,"sources":["file:///D:/Degree/MachineLearning/csv_chat/frontend/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { motion } from \"framer-motion\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n    \"inline-flex items-center justify-center whitespace-nowrap rounded-none text-sm font-bold ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 neo-border\",\r\n    {\r\n        variants: {\r\n            variant: {\r\n                default: \"bg-primary text-primary-foreground neo-shadow\",\r\n                destructive:\r\n                    \"bg-destructive text-destructive-foreground neo-shadow\",\r\n                outline:\r\n                    \"bg-background hover:bg-accent hover:text-accent-foreground neo-shadow\",\r\n                secondary:\r\n                    \"bg-secondary text-secondary-foreground neo-shadow\",\r\n                ghost: \"hover:bg-accent hover:text-accent-foreground border-transparent\",\r\n                link: \"text-primary underline-offset-4 hover:underline border-transparent\",\r\n            },\r\n            size: {\r\n                default: \"h-10 px-4 py-2\",\r\n                sm: \"h-9 px-3\",\r\n                lg: \"h-11 px-8\",\r\n                icon: \"h-10 w-10\",\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            variant: \"default\",\r\n            size: \"default\",\r\n        },\r\n    }\r\n)\r\n\r\nexport interface ButtonProps\r\n    extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n    asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n    ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n        const Comp = (asChild ? Slot : motion.button) as any\r\n\r\n        // Only apply motion props if not a Slot (Slot doesn't accept motion props directly in this pattern easily without more work)\r\n        // For simplicity, we'll assume standard button usage for animations.\r\n        // If asChild is true, animations might need to be handled by the child or a wrapper.\r\n        const motionProps = !asChild ? {\r\n            whileHover: { x: -2, y: -2, boxShadow: \"6px 6px 0px 0px rgba(0,0,0,1)\" },\r\n            whileTap: { x: 0, y: 0, boxShadow: \"2px 2px 0px 0px rgba(0,0,0,1)\" },\r\n            transition: { type: \"spring\", stiffness: 400, damping: 17 }\r\n        } : {}\r\n\r\n        // Adjust shadow color for dark mode in motion props if needed, but CSS class handles static shadow.\r\n        // Dynamic shadow color in Framer Motion is tricky with CSS classes. \r\n        // We'll stick to a simple translate effect for now which is safer and effective.\r\n\r\n        return (\r\n            <Comp\r\n                className={cn(buttonVariants({ variant, size, className }))}\r\n                ref={ref}\r\n                {...props}\r\n                {...(!asChild ? {\r\n                    whileHover: { x: -2, y: -2 },\r\n                    whileTap: { x: 0, y: 0 },\r\n                } : {})}\r\n            />\r\n        )\r\n    }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AAEA;;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACtB,qSACA;IACI,UAAU;QACN,SAAS;YACL,SAAS;YACT,aACI;YACJ,SACI;YACJ,WACI;YACJ,OAAO;YACP,MAAM;QACV;QACA,MAAM;YACF,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACV;IACJ;IACA,iBAAiB;QACb,SAAS;QACT,MAAM;IACV;AACJ;AASJ,MAAM,uBAAS,mNAAgB,CAC3B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACtD,MAAM,OAAQ,UAAU,wKAAI,GAAG,oMAAM,CAAC,MAAM;IAE5C,6HAA6H;IAC7H,qEAAqE;IACrE,qFAAqF;IACrF,MAAM,cAAc,CAAC,UAAU;QAC3B,YAAY;YAAE,GAAG,CAAC;YAAG,GAAG,CAAC;YAAG,WAAW;QAAgC;QACvE,UAAU;YAAE,GAAG;YAAG,GAAG;YAAG,WAAW;QAAgC;QACnE,YAAY;YAAE,MAAM;YAAU,WAAW;YAAK,SAAS;QAAG;IAC9D,IAAI,CAAC;IAEL,oGAAoG;IACpG,qEAAqE;IACrE,iFAAiF;IAEjF,qBACI,8OAAC;QACG,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;QACR,GAAI,CAAC,UAAU;YACZ,YAAY;gBAAE,GAAG,CAAC;gBAAG,GAAG,CAAC;YAAE;YAC3B,UAAU;gBAAE,GAAG;gBAAG,GAAG;YAAE;QAC3B,IAAI,CAAC,CAAC;;;;;;AAGlB;AAEJ,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 502, "column": 0}, "map": {"version":3,"sources":["file:///D:/Degree/MachineLearning/csv_chat/frontend/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface InputProps\r\n    extends React.InputHTMLAttributes<HTMLInputElement> { }\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n    ({ className, type, ...props }, ref) => {\r\n        return (\r\n            <input\r\n                type={type}\r\n                className={cn(\r\n                    \"flex h-10 w-full rounded-none border-2 border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 neo-border\",\r\n                    className\r\n                )}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,sBAAQ,mNAAgB,CAC1B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC5B,qBACI,8OAAC;QACG,MAAM;QACN,WAAW,IAAA,kHAAE,EACT,+WACA;QAEJ,KAAK;QACJ,GAAG,KAAK;;;;;;AAGrB;AAEJ,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 530, "column": 0}, "map": {"version":3,"sources":["file:///D:/Degree/MachineLearning/csv_chat/frontend/components/ChatInterface.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { Send, Loader2, Bot, User, Code2, Terminal } from 'lucide-react';\r\nimport ResultDisplay from './ResultDisplay';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\r\nimport { cn } from '@/lib/utils';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\nexport interface Message {\r\n    role: 'user' | 'assistant';\r\n    content: string;\r\n    plot?: string | null;\r\n    code?: string;\r\n}\r\n\r\ninterface ChatInterfaceProps {\r\n    pyodide: any;\r\n    columns: string[];\r\n    fileName: string;\r\n    selectedFile: File | null;\r\n    messages: Message[];\r\n    setMessages: (messages: Message[] | ((prev: Message[]) => Message[])) => void;\r\n}\r\n\r\nexport default function ChatInterface({ pyodide, columns, fileName, selectedFile, messages, setMessages }: ChatInterfaceProps) {\r\n    const [input, setInput] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const messagesEndRef = useRef<HTMLDivElement>(null);\r\n\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    };\r\n\r\n    useEffect(() => {\r\n        scrollToBottom();\r\n    }, [messages]);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!input.trim() || isLoading) return;\r\n\r\n        const userMessage = input;\r\n        setInput('');\r\n        setMessages(prev => [...prev, { role: 'user', content: userMessage }]);\r\n        setIsLoading(true);\r\n\r\n        // Check if df is loaded using JS API\r\n        try {\r\n            const isDfLoaded = pyodide.globals.get('df');\r\n\r\n            if (!isDfLoaded) {\r\n                // Try to reload if file exists using FS API\r\n                let fileExists = false;\r\n                try {\r\n                    pyodide.FS.stat(fileName);\r\n                    fileExists = true;\r\n                } catch (e) {\r\n                    fileExists = false;\r\n                }\r\n\r\n                if (fileExists) {\r\n                    console.log(\"Reloading df from file:\", fileName);\r\n                    pyodide.runPython(`\r\n                        import pandas as pd\r\n                        df = pd.read_csv('${fileName.replace(/'/g, \"\\\\'\")}')\r\n                    `);\r\n                } else if (selectedFile && selectedFile.name === fileName && typeof selectedFile.text === 'function') {\r\n                    // Recovery: Write file to FS if we have the object\r\n                    console.log(\"Restoring file to FS from memory:\", fileName);\r\n                    const text = await selectedFile.text();\r\n                    pyodide.FS.writeFile(fileName, text);\r\n                    pyodide.runPython(`\r\n                        import pandas as pd\r\n                        df = pd.read_csv('${fileName.replace(/'/g, \"\\\\'\")}')\r\n                    `);\r\n                } else {\r\n                    console.warn(\"File not found in FS:\", fileName);\r\n                    setMessages(prev => [...prev, {\r\n                        role: 'assistant',\r\n                        content: \"⚠️ Error: The dataset is not currently loaded in memory. Please re-upload the CSV file to continue analysis.\"\r\n                    }]);\r\n                    setIsLoading(false);\r\n                    return;\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.error(\"Error checking df state:\", e);\r\n        }\r\n\r\n        try {\r\n            const response = await fetch('/api/generate', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ columns, question: userMessage }),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json().catch(() => ({ detail: 'Failed to generate code' }));\r\n                throw new Error(errorData.detail || 'Failed to generate code');\r\n            }\r\n\r\n            const data = await response.json();\r\n            const code = data.code;\r\n\r\n            pyodide.runPython(`\r\n        import sys\r\n        import io\r\n        import matplotlib.pyplot as plt\r\n        plt.close('all')\r\n        sys.stdout = io.StringIO()\r\n      `);\r\n\r\n            await pyodide.runPythonAsync(code);\r\n\r\n            const stdout = pyodide.runPython(\"sys.stdout.getvalue()\");\r\n\r\n            let plotBase64 = null;\r\n            const hasPlot = pyodide.runPython(`\r\n        import matplotlib.pyplot as plt\r\n        len(plt.get_fignums()) > 0\r\n      `);\r\n\r\n            if (hasPlot) {\r\n                pyodide.runPython(`\r\n          import io\r\n          import base64\r\n          buf = io.BytesIO()\r\n          plt.savefig(buf, format='png')\r\n          buf.seek(0)\r\n          img_str = base64.b64encode(buf.read()).decode('utf-8')\r\n          plt.close('all')\r\n        `);\r\n                plotBase64 = pyodide.globals.get('img_str');\r\n            }\r\n\r\n            setMessages(prev => [...prev, {\r\n                role: 'assistant',\r\n                content: stdout || \"Done.\",\r\n                plot: plotBase64,\r\n                code: code\r\n            }]);\r\n\r\n        } catch (error) {\r\n            console.error(error);\r\n            setMessages(prev => [...prev, { role: 'assistant', content: `Error: ${error}` }]);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Card className=\"flex flex-col h-full w-full max-w-4xl mx-auto border-border shadow-2xl bg-card/50 backdrop-blur-sm overflow-hidden\">\r\n            <CardHeader className=\"border-b bg-muted/20 px-6 py-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    <div>\r\n                        <CardTitle className=\"text-lg font-semibold flex items-center gap-2\">\r\n                            <Terminal className=\"w-5 h-5 text-primary\" />\r\n                            Chatting with {fileName}\r\n                        </CardTitle>\r\n                        <CardDescription className=\"text-xs mt-1\">\r\n                            {columns.length} columns available for analysis\r\n                        </CardDescription>\r\n                    </div>\r\n                </div>\r\n            </CardHeader>\r\n\r\n            <div className=\"flex-1 overflow-y-auto p-6 space-y-6 min-h-[500px] max-h-[600px] scrollbar-thin scrollbar-thumb-muted-foreground/20 hover:scrollbar-thumb-muted-foreground/40\">\r\n                {messages.length === 0 && (\r\n                    <div className=\"h-full flex flex-col items-center justify-center text-center text-muted-foreground space-y-4 opacity-50\">\r\n                        <Bot className=\"w-12 h-12\" />\r\n                        <div>\r\n                            <p className=\"text-lg font-medium\">Ask questions about your data</p>\r\n                            <p className=\"text-sm mt-1\">Try: \"Show me the distribution of {columns[0]}\"</p>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n                <AnimatePresence initial={false}>\r\n                    {messages.map((msg, idx) => (\r\n                        <motion.div\r\n                            key={idx}\r\n                            initial={{ opacity: 0, y: 10, scale: 0.95 }}\r\n                            animate={{ opacity: 1, y: 0, scale: 1 }}\r\n                            transition={{ duration: 0.3, ease: \"easeOut\" }}\r\n                            className={cn(\"flex w-full\", msg.role === 'user' ? 'justify-end' : 'justify-start')}\r\n                        >\r\n                            <div className={cn(\r\n                                \"flex gap-3 max-w-[90%]\",\r\n                                msg.role === 'user' ? 'flex-row-reverse' : 'flex-row'\r\n                            )}>\r\n                                <div className={cn(\r\n                                    \"w-8 h-8 rounded-full flex items-center justify-center shrink-0\",\r\n                                    msg.role === 'user' ? \"bg-primary text-primary-foreground\" : \"bg-muted text-muted-foreground\"\r\n                                )}>\r\n                                    {msg.role === 'user' ? <User className=\"w-4 h-4\" /> : <Bot className=\"w-4 h-4\" />}\r\n                                </div>\r\n\r\n                                <div className={cn(\r\n                                    \"rounded-none p-4 shadow-sm neo-border\",\r\n                                    msg.role === 'user'\r\n                                        ? 'bg-primary text-primary-foreground rounded-tr-none'\r\n                                        : 'bg-muted/50 border border-border rounded-tl-none'\r\n                                )}>\r\n                                    {msg.role === 'user' ? (\r\n                                        <p className=\"text-sm leading-relaxed\">{msg.content}</p>\r\n                                    ) : (\r\n                                        <div className=\"space-y-4\">\r\n                                            {msg.code && (\r\n                                                <details className=\"group\">\r\n                                                    <summary className=\"text-xs text-muted-foreground cursor-pointer hover:text-foreground transition-colors flex items-center gap-1 list-none\">\r\n                                                        <Code2 className=\"w-3 h-3\" />\r\n                                                        <span className=\"group-open:hidden\">View Generated Code</span>\r\n                                                        <span className=\"hidden group-open:inline\">Hide Generated Code</span>\r\n                                                    </summary>\r\n                                                    <div className=\"mt-2 rounded-md bg-black/90 p-3 overflow-x-auto border border-border/50\">\r\n                                                        <pre className=\"text-xs text-green-400 font-mono\">\r\n                                                            {msg.code}\r\n                                                        </pre>\r\n                                                    </div>\r\n                                                </details>\r\n                                            )}\r\n                                            <ResultDisplay output={msg.content} plotImage={msg.plot || null} />\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </motion.div>\r\n                    ))}\r\n                </AnimatePresence>\r\n                {isLoading && (\r\n                    <div className=\"flex justify-start\">\r\n                        <div className=\"flex gap-3\">\r\n                            <div className=\"w-8 h-8 rounded-full bg-muted flex items-center justify-center shrink-0\">\r\n                                <Bot className=\"w-4 h-4 text-muted-foreground\" />\r\n                            </div>\r\n                            <div className=\"bg-muted/50 border border-border rounded-2xl rounded-tl-none p-4 shadow-sm flex items-center gap-3\">\r\n                                <Loader2 className=\"w-4 h-4 animate-spin text-primary\" />\r\n                                <span className=\"text-sm text-muted-foreground\">Analyzing data...</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n                <div ref={messagesEndRef} />\r\n            </div>\r\n\r\n            <div className=\"p-4 bg-background/50 backdrop-blur-sm border-t border-border\">\r\n                <form onSubmit={handleSubmit} className=\"flex gap-2 relative\">\r\n                    <Input\r\n                        value={input}\r\n                        onChange={(e) => setInput(e.target.value)}\r\n                        placeholder=\"Ask a question about your data...\"\r\n                        className=\"pr-24 h-12 bg-background/50\"\r\n                        disabled={isLoading}\r\n                    />\r\n                    <Button\r\n                        type=\"submit\"\r\n                        disabled={isLoading || !input.trim()}\r\n                        className=\"absolute right-1 top-1 bottom-1 h-auto px-4\"\r\n                    >\r\n                        <Send className=\"w-4 h-4 mr-2\" />\r\n                        Send\r\n                    </Button>\r\n                </form>\r\n            </div>\r\n        </Card>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1066, "column": 0}, "map": {"version":3,"sources":["file:///D:/Degree/MachineLearning/csv_chat/frontend/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction ScrollArea({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.Root>) {\n  return (\n    <ScrollAreaPrimitive.Root\n      data-slot=\"scroll-area\"\n      className={cn(\"relative\", className)}\n      {...props}\n    >\n      <ScrollAreaPrimitive.Viewport\n        data-slot=\"scroll-area-viewport\"\n        className=\"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1\"\n      >\n        {children}\n      </ScrollAreaPrimitive.Viewport>\n      <ScrollBar />\n      <ScrollAreaPrimitive.Corner />\n    </ScrollAreaPrimitive.Root>\n  )\n}\n\nfunction ScrollBar({\n  className,\n  orientation = \"vertical\",\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {\n  return (\n    <ScrollAreaPrimitive.ScrollAreaScrollbar\n      data-slot=\"scroll-area-scrollbar\"\n      orientation={orientation}\n      className={cn(\n        \"flex touch-none p-px transition-colors select-none\",\n        orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent\",\n        orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent\",\n        className\n      )}\n      {...props}\n    >\n      <ScrollAreaPrimitive.ScrollAreaThumb\n        data-slot=\"scroll-area-thumb\"\n        className=\"bg-border relative flex-1 rounded-none\"\n      />\n    </ScrollAreaPrimitive.ScrollAreaScrollbar>\n  )\n}\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OACmD;IACtD,qBACE,8OAAC,kLAAwB;QACvB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,YAAY;QACzB,GAAG,KAAK;;0BAET,8OAAC,sLAA4B;gBAC3B,aAAU;gBACV,WAAU;0BAET;;;;;;0BAEH,8OAAC;;;;;0BACD,8OAAC,oLAA0B;;;;;;;;;;;AAGjC;AAEA,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,UAAU,EACxB,GAAG,OACkE;IACrE,qBACE,8OAAC,iMAAuC;QACtC,aAAU;QACV,aAAa;QACb,WAAW,IAAA,kHAAE,EACX,sDACA,gBAAgB,cAChB,8CACA,gBAAgB,gBAChB,gDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,6LAAmC;YAClC,aAAU;YACV,WAAU;;;;;;;;;;;AAIlB"}},
    {"offset": {"line": 1136, "column": 0}, "map": {"version":3,"sources":["file:///D:/Degree/MachineLearning/csv_chat/frontend/components/ui/sheet.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { XIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {\n  return <SheetPrimitive.Root data-slot=\"sheet\" {...props} />\n}\n\nfunction SheetTrigger({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Trigger>) {\n  return <SheetPrimitive.Trigger data-slot=\"sheet-trigger\" {...props} />\n}\n\nfunction SheetClose({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Close>) {\n  return <SheetPrimitive.Close data-slot=\"sheet-close\" {...props} />\n}\n\nfunction SheetPortal({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Portal>) {\n  return <SheetPrimitive.Portal data-slot=\"sheet-portal\" {...props} />\n}\n\nfunction SheetOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Overlay>) {\n  return (\n    <SheetPrimitive.Overlay\n      data-slot=\"sheet-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SheetContent({\n  className,\n  children,\n  side = \"right\",\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Content> & {\n  side?: \"top\" | \"right\" | \"bottom\" | \"left\"\n}) {\n  return (\n    <SheetPortal>\n      <SheetOverlay />\n      <SheetPrimitive.Content\n        data-slot=\"sheet-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n          side === \"right\" &&\n          \"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm\",\n          side === \"left\" &&\n          \"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm\",\n          side === \"top\" &&\n          \"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b\",\n          side === \"bottom\" &&\n          \"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        <SheetPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-none opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none\">\n          <XIcon className=\"size-4\" />\n          <span className=\"sr-only\">Close</span>\n        </SheetPrimitive.Close>\n      </SheetPrimitive.Content>\n    </SheetPortal>\n  )\n}\n\nfunction SheetHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sheet-header\"\n      className={cn(\"flex flex-col gap-1.5 p-4\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sheet-footer\"\n      className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Title>) {\n  return (\n    <SheetPrimitive.Title\n      data-slot=\"sheet-title\"\n      className={cn(\"text-foreground font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Description>) {\n  return (\n    <SheetPrimitive.Description\n      data-slot=\"sheet-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sheet,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,MAAM,EAAE,GAAG,OAAyD;IAC3E,qBAAO,8OAAC,0KAAmB;QAAC,aAAU;QAAS,GAAG,KAAK;;;;;;AACzD;AAEA,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,8OAAC,6KAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;AAEA,SAAS,WAAW,EAClB,GAAG,OAC+C;IAClD,qBAAO,8OAAC,2KAAoB;QAAC,aAAU;QAAe,GAAG,KAAK;;;;;;AAChE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,8OAAC,4KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,8OAAC,6KAAsB;QACrB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,QAAQ,EACR,OAAO,OAAO,EACd,GAAG,OAGJ;IACC,qBACE,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,6KAAsB;gBACrB,aAAU;gBACV,WAAW,IAAA,kHAAE,EACX,8MACA,SAAS,WACT,oIACA,SAAS,UACT,iIACA,SAAS,SACT,4GACA,SAAS,YACT,qHACA;gBAED,GAAG,KAAK;;oBAER;kCACD,8OAAC,2KAAoB;wBAAC,WAAU;;0CAC9B,8OAAC,yMAAK;gCAAC,WAAU;;;;;;0CACjB,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKpC;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,6BAA6B;QAC1C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,mCAAmC;QAChD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,8OAAC,2KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACqD;IACxD,qBACE,8OAAC,iLAA0B;QACzB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 1314, "column": 0}, "map": {"version":3,"sources":["file:///D:/Degree/MachineLearning/csv_chat/frontend/components/Sidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\r\nimport { Sheet, SheetContent, SheetTrigger } from \"@/components/ui/sheet\";\r\nimport { MessageSquare, Plus, Trash2, Menu, X, ChevronLeft, ChevronRight, PanelLeftClose, PanelLeftOpen } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\nexport interface ChatSession {\r\n    id: string;\r\n    title: string;\r\n    date: number;\r\n    preview: string;\r\n    fileName?: string;\r\n    columns?: string[];\r\n}\r\n\r\ninterface SidebarProps {\r\n    sessions: ChatSession[];\r\n    currentSessionId: string | null;\r\n    onSelectSession: (id: string) => void;\r\n    onNewChat: () => void;\r\n    onDeleteSession: (id: string, e: React.MouseEvent) => void;\r\n    className?: string;\r\n}\r\n\r\nexport function Sidebar({\r\n    sessions,\r\n    currentSessionId,\r\n    onSelectSession,\r\n    onNewChat,\r\n    onDeleteSession,\r\n    className,\r\n}: SidebarProps) {\r\n    const [isCollapsed, setIsCollapsed] = useState(false);\r\n    const [isMobile, setIsMobile] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const checkMobile = () => setIsMobile(window.innerWidth < 768);\r\n        checkMobile();\r\n        window.addEventListener(\"resize\", checkMobile);\r\n        return () => window.removeEventListener(\"resize\", checkMobile);\r\n    }, []);\r\n\r\n    const SidebarContent = () => (\r\n        <div className=\"flex flex-col h-full bg-sidebar text-sidebar-foreground border-r-2 border-sidebar-border\">\r\n            <div className={cn(\"p-4 flex items-center\", isCollapsed ? \"justify-center\" : \"justify-between\")}>\r\n                {!isCollapsed && (\r\n                    <Button\r\n                        onClick={onNewChat}\r\n                        className=\"w-full justify-start gap-2 neo-border shadow-none\"\r\n                        variant=\"default\"\r\n                    >\r\n                        <Plus className=\"w-4 h-4\" />\r\n                        New Chat\r\n                    </Button>\r\n                )}\r\n                <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    onClick={() => setIsCollapsed(!isCollapsed)}\r\n                    className=\"hidden md:flex text-sidebar-foreground hover:bg-primary hover:text-primary-foreground ml-2\"\r\n                >\r\n                    {isCollapsed ? <PanelLeftOpen className=\"w-5 h-5\" /> : <PanelLeftClose className=\"w-5 h-5\" />}\r\n                </Button>\r\n            </div>\r\n\r\n            {isCollapsed && (\r\n                <div className=\"px-2 mb-2 flex justify-center\">\r\n                    <Button\r\n                        onClick={onNewChat}\r\n                        size=\"icon\"\r\n                        variant=\"default\"\r\n                        className=\"neo-border shadow-none\"\r\n                    >\r\n                        <Plus className=\"w-4 h-4\" />\r\n                    </Button>\r\n                </div>\r\n            )}\r\n\r\n            <ScrollArea className=\"flex-1 px-2\">\r\n                <div className=\"space-y-1 py-2\">\r\n                    <AnimatePresence>\r\n                        {sessions.map((session, index) => (\r\n                            <motion.div\r\n                                key={session.id}\r\n                                initial={{ opacity: 0, x: -20 }}\r\n                                animate={{ opacity: 1, x: 0 }}\r\n                                exit={{ opacity: 0, x: -20 }}\r\n                                transition={{ delay: index * 0.05 }}\r\n                                className={cn(\r\n                                    \"group flex items-center gap-2 rounded-none px-3 py-3 transition-colors hover:bg-primary/50 cursor-pointer text-sm\",\r\n                                    currentSessionId === session.id ? \"bg-primary text-primary-foreground font-medium\" : \"text-sidebar-foreground/80\",\r\n                                    isCollapsed ? \"justify-center\" : \"\"\r\n                                )}\r\n                                onClick={() => onSelectSession(session.id)}\r\n                            >\r\n                                <MessageSquare className=\"w-4 h-4 shrink-0\" />\r\n                                {!isCollapsed && (\r\n                                    <>\r\n                                        <div className=\"flex-1 overflow-hidden\">\r\n                                            <p className=\"truncate\">\r\n                                                {session.title || \"New Chat\"}\r\n                                            </p>\r\n                                        </div>\r\n                                        <Button\r\n                                            variant=\"ghost\"\r\n                                            size=\"icon\"\r\n                                            className=\"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity text-sidebar-foreground hover:text-destructive\"\r\n                                            onClick={(e) => onDeleteSession(session.id, e)}\r\n                                        >\r\n                                            <Trash2 className=\"w-3 h-3\" />\r\n                                        </Button>\r\n                                    </>\r\n                                )}\r\n                            </motion.div>\r\n                        ))}\r\n                    </AnimatePresence>\r\n                    {sessions.length === 0 && !isCollapsed && (\r\n                        <div className=\"text-center text-xs text-sidebar-foreground/50 py-4\">\r\n                            No history yet\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </ScrollArea>\r\n        </div>\r\n    );\r\n\r\n    if (isMobile) {\r\n        return (\r\n            <Sheet>\r\n                <SheetTrigger asChild>\r\n                    <Button variant=\"ghost\" size=\"icon\" className=\"md:hidden absolute top-4 left-4 z-50 neo-border bg-background\">\r\n                        <Menu className=\"w-5 h-5\" />\r\n                    </Button>\r\n                </SheetTrigger>\r\n                <SheetContent side=\"left\" className=\"p-0 w-72 border-r-2 border-sidebar-border bg-sidebar text-sidebar-foreground\">\r\n                    <SidebarContent />\r\n                </SheetContent>\r\n            </Sheet>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <motion.div\r\n            animate={{ width: isCollapsed ? 60 : 260 }}\r\n            className={cn(\"hidden md:block h-screen sticky top-0 z-40 bg-sidebar border-r-2 border-sidebar-border\", className)}\r\n        >\r\n            <SidebarContent />\r\n        </motion.div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1604, "column": 0}, "map": {"version":3,"sources":["file:///D:/Degree/MachineLearning/csv_chat/frontend/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  )\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md\",\n          className\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  )\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  )\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: \"default\" | \"destructive\"\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  )\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-none border-2 border-border p-1 shadow-lg neo-shadow\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1879, "column": 0}, "map": {"version":3,"sources":["file:///D:/Degree/MachineLearning/csv_chat/frontend/components/mode-toggle.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { Moon, Sun } from \"lucide-react\"\r\nimport { useTheme } from \"next-themes\"\r\n\r\nimport { Button } from \"@/components/ui/button\"\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\"\r\n\r\nexport function ModeToggle() {\r\n    const { setTheme } = useTheme()\r\n\r\n    return (\r\n        <DropdownMenu>\r\n            <DropdownMenuTrigger asChild>\r\n                <Button variant=\"outline\" size=\"icon\">\r\n                    <Sun className=\"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\r\n                    <Moon className=\"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\r\n                    <span className=\"sr-only\">Toggle theme</span>\r\n                </Button>\r\n            </DropdownMenuTrigger>\r\n            <DropdownMenuContent align=\"end\">\r\n                <DropdownMenuItem onClick={() => setTheme(\"light\")}>\r\n                    Light\r\n                </DropdownMenuItem>\r\n                <DropdownMenuItem onClick={() => setTheme(\"dark\")}>\r\n                    Dark\r\n                </DropdownMenuItem>\r\n                <DropdownMenuItem onClick={() => setTheme(\"system\")}>\r\n                    System\r\n                </DropdownMenuItem>\r\n            </DropdownMenuContent>\r\n        </DropdownMenu>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AACA;AAEA;AACA;AAPA;;;;;;AAcO,SAAS;IACZ,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,4JAAQ;IAE7B,qBACI,8OAAC,qJAAY;;0BACT,8OAAC,4JAAmB;gBAAC,OAAO;0BACxB,cAAA,8OAAC,qIAAM;oBAAC,SAAQ;oBAAU,MAAK;;sCAC3B,8OAAC,uMAAG;4BAAC,WAAU;;;;;;sCACf,8OAAC,0MAAI;4BAAC,WAAU;;;;;;sCAChB,8OAAC;4BAAK,WAAU;sCAAU;;;;;;;;;;;;;;;;;0BAGlC,8OAAC,4JAAmB;gBAAC,OAAM;;kCACvB,8OAAC,yJAAgB;wBAAC,SAAS,IAAM,SAAS;kCAAU;;;;;;kCAGpD,8OAAC,yJAAgB;wBAAC,SAAS,IAAM,SAAS;kCAAS;;;;;;kCAGnD,8OAAC,yJAAgB;wBAAC,SAAS,IAAM,SAAS;kCAAW;;;;;;;;;;;;;;;;;;AAMrE"}},
    {"offset": {"line": 1982, "column": 0}, "map": {"version":3,"sources":["file:///D:/Degree/MachineLearning/csv_chat/frontend/lib/db.ts"],"sourcesContent":["export const DB_NAME = 'QueryCSV_DB';\r\nexport const STORE_NAME = 'files';\r\nexport const DB_VERSION = 1;\r\n\r\nexport const openDB = (): Promise<IDBDatabase> => {\r\n    return new Promise((resolve, reject) => {\r\n        const request = indexedDB.open(DB_NAME, DB_VERSION);\r\n\r\n        request.onerror = (event) => {\r\n            console.error(\"IndexedDB error:\", event);\r\n            reject(\"Error opening database\");\r\n        };\r\n\r\n        request.onsuccess = (event) => {\r\n            resolve((event.target as IDBOpenDBRequest).result);\r\n        };\r\n\r\n        request.onupgradeneeded = (event) => {\r\n            const db = (event.target as IDBOpenDBRequest).result;\r\n            if (!db.objectStoreNames.contains(STORE_NAME)) {\r\n                db.createObjectStore(STORE_NAME, { keyPath: 'name' });\r\n            }\r\n        };\r\n    });\r\n};\r\n\r\nexport const saveFileToDB = async (file: File): Promise<void> => {\r\n    const db = await openDB();\r\n    return new Promise((resolve, reject) => {\r\n        const transaction = db.transaction([STORE_NAME], 'readwrite');\r\n        const store = transaction.objectStore(STORE_NAME);\r\n\r\n        // We store the file object directly. IndexedDB supports storing Blobs/Files.\r\n        const request = store.put(file);\r\n\r\n        request.onsuccess = () => resolve();\r\n        request.onerror = () => reject(\"Error saving file\");\r\n    });\r\n};\r\n\r\nexport const getFileFromDB = async (fileName: string): Promise<File | undefined> => {\r\n    const db = await openDB();\r\n    return new Promise((resolve, reject) => {\r\n        const transaction = db.transaction([STORE_NAME], 'readonly');\r\n        const store = transaction.objectStore(STORE_NAME);\r\n        const request = store.get(fileName);\r\n\r\n        request.onsuccess = () => {\r\n            resolve(request.result as File | undefined);\r\n        };\r\n        request.onerror = () => reject(\"Error retrieving file\");\r\n    });\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAO,MAAM,UAAU;AAChB,MAAM,aAAa;AACnB,MAAM,aAAa;AAEnB,MAAM,SAAS;IAClB,OAAO,IAAI,QAAQ,CAAC,SAAS;QACzB,MAAM,UAAU,UAAU,IAAI,CAAC,SAAS;QAExC,QAAQ,OAAO,GAAG,CAAC;YACf,QAAQ,KAAK,CAAC,oBAAoB;YAClC,OAAO;QACX;QAEA,QAAQ,SAAS,GAAG,CAAC;YACjB,QAAQ,AAAC,MAAM,MAAM,CAAsB,MAAM;QACrD;QAEA,QAAQ,eAAe,GAAG,CAAC;YACvB,MAAM,KAAK,AAAC,MAAM,MAAM,CAAsB,MAAM;YACpD,IAAI,CAAC,GAAG,gBAAgB,CAAC,QAAQ,CAAC,aAAa;gBAC3C,GAAG,iBAAiB,CAAC,YAAY;oBAAE,SAAS;gBAAO;YACvD;QACJ;IACJ;AACJ;AAEO,MAAM,eAAe,OAAO;IAC/B,MAAM,KAAK,MAAM;IACjB,OAAO,IAAI,QAAQ,CAAC,SAAS;QACzB,MAAM,cAAc,GAAG,WAAW,CAAC;YAAC;SAAW,EAAE;QACjD,MAAM,QAAQ,YAAY,WAAW,CAAC;QAEtC,6EAA6E;QAC7E,MAAM,UAAU,MAAM,GAAG,CAAC;QAE1B,QAAQ,SAAS,GAAG,IAAM;QAC1B,QAAQ,OAAO,GAAG,IAAM,OAAO;IACnC;AACJ;AAEO,MAAM,gBAAgB,OAAO;IAChC,MAAM,KAAK,MAAM;IACjB,OAAO,IAAI,QAAQ,CAAC,SAAS;QACzB,MAAM,cAAc,GAAG,WAAW,CAAC;YAAC;SAAW,EAAE;QACjD,MAAM,QAAQ,YAAY,WAAW,CAAC;QACtC,MAAM,UAAU,MAAM,GAAG,CAAC;QAE1B,QAAQ,SAAS,GAAG;YAChB,QAAQ,QAAQ,MAAM;QAC1B;QACA,QAAQ,OAAO,GAAG,IAAM,OAAO;IACnC;AACJ"}},
    {"offset": {"line": 2050, "column": 0}, "map": {"version":3,"sources":["file:///D:/Degree/MachineLearning/csv_chat/frontend/app/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from 'react';\nimport usePyodide from '@/hooks/usePyodide';\nimport FileUpload from '@/components/FileUpload';\nimport ChatInterface, { Message } from '@/components/ChatInterface';\nimport { Loader2, Database, Github } from 'lucide-react';\nimport { AuroraBackground } from '@/components/ui/aurora-background';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { Sidebar, ChatSession } from '@/components/Sidebar';\nimport { v4 as uuidv4 } from 'uuid';\nimport { ModeToggle } from '@/components/mode-toggle';\nimport { saveFileToDB, getFileFromDB } from '@/lib/db';\n\nexport default function Home() {\n  const { pyodide, isLoading: isPyodideLoading } = usePyodide();\n  const [file, setFile] = useState<File | null>(null);\n  const [columns, setColumns] = useState<string[]>([]);\n  const [isProcessing, setIsProcessing] = useState(false);\n\n  // Chat State\n  const [sessions, setSessions] = useState<ChatSession[]>([]);\n  const [currentSessionId, setCurrentSessionId] = useState<string | null>(null);\n  const [messages, setMessages] = useState<Message[]>([]);\n\n  // Load sessions from localStorage on mount\n  useEffect(() => {\n    const savedSessions = localStorage.getItem('chat_sessions');\n    if (savedSessions) {\n      setSessions(JSON.parse(savedSessions));\n    }\n  }, []);\n\n  // Save sessions to localStorage whenever they change\n  useEffect(() => {\n    localStorage.setItem('chat_sessions', JSON.stringify(sessions));\n  }, [sessions]);\n\n  // Load messages for current session\n  useEffect(() => {\n    if (currentSessionId) {\n      const savedMessages = localStorage.getItem(`chat_messages_${currentSessionId}`);\n      if (savedMessages) {\n        setMessages(JSON.parse(savedMessages));\n      } else {\n        setMessages([]);\n      }\n    } else {\n      setMessages([]);\n    }\n  }, [currentSessionId]);\n\n  // Save messages to localStorage and update session preview\n  useEffect(() => {\n    if (currentSessionId) {\n      localStorage.setItem(`chat_messages_${currentSessionId}`, JSON.stringify(messages));\n\n      // Update preview in session list\n      if (messages.length > 0) {\n        setSessions(prev => prev.map(s => {\n          if (s.id === currentSessionId) {\n            const lastMsg = messages[messages.length - 1];\n            return {\n              ...s,\n              preview: lastMsg.role === 'user' ? `You: ${lastMsg.content}` : `AI: ${lastMsg.content.substring(0, 30)}...`\n            };\n          }\n          return s;\n        }));\n      }\n    }\n  }, [messages, currentSessionId]);\n\n  const handleFileSelect = async (selectedFile: File) => {\n    setFile(selectedFile);\n    setIsProcessing(true);\n\n    try {\n      // Save to IndexedDB for persistence across refreshes\n      await saveFileToDB(selectedFile);\n\n      const text = await selectedFile.text();\n      pyodide.FS.writeFile(selectedFile.name, text);\n      pyodide.runPython(`\n        import pandas as pd\n        df = pd.read_csv('${selectedFile.name}')\n        columns = df.columns.tolist()\n      `);\n      const cols = pyodide.globals.get('columns').toJs();\n      setColumns(cols);\n\n      // Create a new session if none exists or if we want to associate this file with a new session\n      if (!currentSessionId) {\n        createNewSession(selectedFile.name, selectedFile.name, cols);\n      } else {\n        // Update current session with new file info\n        setSessions(prev => prev.map(s => {\n          if (s.id === currentSessionId) {\n            return { ...s, title: selectedFile.name, fileName: selectedFile.name, columns: cols };\n          }\n          return s;\n        }));\n      }\n\n    } catch (error) {\n      console.error(\"Error processing file:\", error);\n      setFile(null);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const createNewSession = (title: string = \"New Chat\", fileName?: string, cols?: string[]) => {\n    const newId = uuidv4();\n    const newSession: ChatSession = {\n      id: newId,\n      title: title,\n      date: Date.now(),\n      preview: \"Started a new chat\",\n      fileName: fileName,\n      columns: cols\n    };\n    setSessions(prev => [newSession, ...prev]);\n    setCurrentSessionId(newId);\n    setMessages([]);\n  };\n\n  const handleSelectSession = async (id: string) => {\n    const session = sessions.find(s => s.id === id);\n    if (!session) return;\n\n    setCurrentSessionId(id);\n\n    // Determine filename\n    const fileName = session.fileName || session.title || \"Restored Session\";\n\n    // Restore columns if available\n    if (session.columns) {\n      setColumns(session.columns);\n    }\n\n    // Try to get the real file object\n    let fileToSet: File | null = file;\n\n    // If current file doesn't match, try to load from DB\n    if (!file || file.name !== fileName) {\n      try {\n        const dbFile = await getFileFromDB(fileName);\n        if (dbFile) {\n          console.log(\"Restored file from IndexedDB:\", fileName);\n          fileToSet = dbFile;\n        } else {\n          // Fallback to dummy if not in DB (user cleared cache or used different device)\n          fileToSet = { name: fileName } as File;\n        }\n      } catch (e) {\n        console.error(\"Failed to load from DB:\", e);\n        fileToSet = { name: fileName } as File;\n      }\n      setFile(fileToSet);\n    }\n\n    // Try to restore Pyodide context\n    if (fileName) {\n      try {\n        // Check if file exists in Pyodide FS\n        const fileExists = pyodide.runPython(`\n                  import os\n                  os.path.exists('${fileName}')\n              `);\n\n        if (fileExists) {\n          pyodide.runPython(`\n                      import pandas as pd\n                      df = pd.read_csv('${fileName}')\n                  `);\n          console.log(\"Context restored for\", fileName);\n        } else if (fileToSet && typeof fileToSet.text === 'function') {\n          // We have the real file (from DB or memory), let ChatInterface handle the restoration\n          // or we could do it here, but ChatInterface has the logic.\n          // Actually, ChatInterface logic runs on submit. \n          // Let's proactively load it here to be safe and avoid the \"not loaded\" state initially?\n          // No, let's let ChatInterface handle it lazily or we can do it here.\n          // Doing it here provides immediate feedback.\n          console.log(\"Pre-loading file into Pyodide from restored object\");\n          const text = await fileToSet.text();\n          pyodide.FS.writeFile(fileName, text);\n          pyodide.runPython(`\n                import pandas as pd\n                df = pd.read_csv('${fileName.replace(/'/g, \"\\\\'\")}')\n           `);\n        } else {\n          console.warn(\"File not found in memory or DB:\", fileName);\n          // Notify user\n          setMessages(prev => {\n            const lastMsg = prev[prev.length - 1];\n            if (lastMsg?.content?.includes(\"not currently loaded\")) return prev;\n\n            return [...prev, {\n              role: 'assistant',\n              content: `⚠️ The file \"${fileName}\" is not currently loaded in memory. You can view the chat history, but to perform new analyses, please re-upload the file.`\n            }];\n          });\n        }\n      } catch (e) {\n        console.error(\"Failed to restore context:\", e);\n      }\n    }\n  };\n\n  const handleDeleteSession = (id: string, e: React.MouseEvent) => {\n    e.stopPropagation();\n    setSessions(prev => prev.filter(s => s.id !== id));\n    localStorage.removeItem(`chat_messages_${id}`);\n    if (currentSessionId === id) {\n      setCurrentSessionId(null);\n      setMessages([]);\n      setFile(null); // Reset file as well since chat is gone\n    }\n  };\n\n  if (isPyodideLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-background text-foreground\">\n        <div className=\"text-center space-y-6 animate-in fade-in zoom-in duration-500\">\n          <div className=\"relative\">\n            <div className=\"absolute inset-0 bg-primary/20 blur-xl rounded-full animate-pulse\" />\n            <Loader2 className=\"w-16 h-16 animate-spin text-primary relative z-10 mx-auto\" />\n          </div>\n          <div className=\"space-y-2\">\n            <h2 className=\"text-2xl font-bold tracking-tight\">Initializing AI Environment</h2>\n            <p className=\"text-muted-foreground\">Loading Python engine (Pyodide)...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex h-screen overflow-hidden bg-background\">\n      <Sidebar\n        sessions={sessions}\n        currentSessionId={currentSessionId}\n        onSelectSession={handleSelectSession}\n        onNewChat={() => {\n          setFile(null);\n          setCurrentSessionId(null);\n          setMessages([]);\n        }}\n        onDeleteSession={handleDeleteSession}\n      />\n\n      <div className=\"flex-1 flex flex-col h-full overflow-hidden relative\">\n        <header className=\"border-b-2 border-border bg-background sticky top-0 z-50 w-full shrink-0\">\n          <div className=\"w-full px-6 h-16 flex items-center justify-between\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-8 h-8 bg-primary rounded-none flex items-center justify-center text-primary-foreground font-bold neo-shadow border-2 border-black\">\n                <Database className=\"w-4 h-4\" />\n              </div>\n              <h1 className=\"text-xl font-black tracking-tighter\">\n                QueryCSV\n              </h1>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <ModeToggle />\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => window.open('https://github.com/Aafimalek/csv_chat', '_blank')}\n                className=\"gap-2\"\n              >\n                <Github className=\"w-4 h-4\" />\n                <span className=\"hidden sm:inline\">GitHub</span>\n              </Button>\n              {file && (\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => {\n                    setFile(null);\n                    setCurrentSessionId(null);\n                    setMessages([]);\n                  }}\n                  className=\"text-muted-foreground hover:text-destructive hover:bg-destructive/10\"\n                >\n                  Reset / New File\n                </Button>\n              )}\n            </div>\n          </div>\n        </header>\n\n        <div className=\"flex-1 flex flex-col items-center justify-center p-6 w-full overflow-hidden\">\n          <AnimatePresence mode=\"wait\">\n            {!file ? (\n              <motion.div\n                key=\"upload\"\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -20 }}\n                className=\"w-full max-w-xl\"\n              >\n                <Card className=\"border-2 border-border shadow-none neo-shadow bg-card\">\n                  <CardHeader className=\"text-center space-y-4 pb-8\">\n                    <div className=\"mx-auto w-16 h-16 bg-primary text-primary-foreground rounded-none flex items-center justify-center mb-4 neo-shadow border-2 border-black\">\n                      <Database className=\"w-8 h-8\" />\n                    </div>\n                    <CardTitle className=\"text-4xl font-black tracking-tighter lg:text-5xl\">\n                      QueryCSV\n                    </CardTitle>\n                    <CardDescription className=\"text-lg font-medium text-foreground\">\n                      Upload a CSV file to start chatting.\n                      <br />\n                      <span className=\"bg-accent text-accent-foreground px-1 font-bold\">Private & Secure.</span>\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <FileUpload onFileSelect={handleFileSelect} />\n                  </CardContent>\n                </Card>\n              </motion.div>\n            ) : isProcessing ? (\n              <motion.div\n                key=\"processing\"\n                initial={{ opacity: 0, scale: 0.9 }}\n                animate={{ opacity: 1, scale: 1 }}\n                exit={{ opacity: 0, scale: 0.9 }}\n                className=\"text-center space-y-6\"\n              >\n                <div className=\"relative mx-auto w-16 h-16\">\n                  <Loader2 className=\"w-16 h-16 animate-spin text-primary relative z-10\" />\n                </div>\n                <p className=\"text-xl font-bold uppercase tracking-widest\">Processing CSV...</p>\n              </motion.div>\n            ) : (\n              <motion.div\n                key=\"chat\"\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                className=\"w-full h-full max-w-4xl mx-auto\"\n              >\n                <ChatInterface\n                  pyodide={pyodide}\n                  columns={columns}\n                  fileName={file.name}\n                  selectedFile={file}\n                  messages={messages}\n                  setMessages={setMessages}\n                />\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}